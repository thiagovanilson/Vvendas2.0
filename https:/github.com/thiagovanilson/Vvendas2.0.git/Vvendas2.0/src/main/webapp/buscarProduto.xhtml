<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                
                template="/WEB-INF/template.xhtml">
   
    
    <ui:define name="corpo">              
    	<title>Buscar Produto</title>
    	<!-- 
    	 -->
        <p:growl id="idMessages" showDetail="true" autoUpdate="true" severity="info" />
        <p:messages id="idMessagesErrors" showDetail="true" closable="true" severity="error" autoUpdate="true" />
        <p:panelGrid columns="1" styleClass="ui-noborder" >
        
	      	<h:form title="Buscar Produtos" id="busProdForm">
	 
				<p:panelGrid columns="2" styleClass="ui-noborder" >
	   
				   <p:outputLabel value="Codigo de barras:" for="cod" />
				   <p:inputText id="cod" value="#{buscarProdutos.cod}"     />
				   
				   <p:outputLabel value="Nome do produto:" for="name" />
				   <p:inputText id="name" value="#{buscarProdutos.name}" key="return"  />
				   
	 			</p:panelGrid>
	 
	 			<br />	
	 				
	   			<p:commandButton action="#{buscarProdutos.buscar()}" value="Buscar" update=":busProdForm :warnings :founds :founds2" icon="fa fa-search"  />
	  
			</h:form>  
			<div>
				<h2 align="center" >
					<p:outputLabel id="warnings" value="#{buscarProdutos.aviso}"/>
				</h2>
			</div>
			
			<br />
			<br />
			
			<p:panelGrid columns="1" styleClass="ui-noborder" id="founds" >
				<p:dataTable id="founds2" var="p" value="#{buscarProdutos.produtos}" 
				rows="15" paginatorAlwaysVisible="false" paginator="true" rowsPerPageTemplate="5,10,15" rendered="#{buscarProdutos.hasItens()}"
				paginatorTemplate="{CurrentPageReport}  {PreviousPageLink} {PageLinks} {NextPageLink} {RowsPerPageDropdown}" 
				>
					<p:column headerText="Codigo" width="100">
				        <h:outputText value="#{p.id}" />
				    </p:column>
				    
				    <p:column headerText="Nome">
				        <h:outputText value="#{p.name}" />
				    </p:column>
				    
				    <p:column headerText="Descrição" width="300">
				        <h:outputText value="#{p.descricao}" />
				    </p:column>
				    
				    <p:column headerText="Quant" width="70">
				        <h:outputText value="#{p.quantity}" />
				    </p:column>
				    
				    <p:column headerText="Preço">
				        <h:outputText value="#{p.price}" />
				    </p:column>
				    
				     <p:column headerText="Medida">
				        <h:outputText value="#{p.medida} #{p.tipoMedida}" />
				    </p:column>
				</p:dataTable>
			</p:panelGrid> 
		</p:panelGrid>
		
		<!-- 
		 -->
    </ui:define>
</ui:composition>